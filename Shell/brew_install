#!/bin/zsh

COMMAND="brew install "

echo "Are we installing a Binary or a Cask? \n"

select INSTALL_TYPE in binary cask
do
	case $INSTALL_TYPE in
		binary || cask)
			echo "Well luck's on you we have all sorts of $INSTALL_TYPE. \n"
			break;
			;;
								
		*)
			echo "I'm sorry I can't help you with that..." &>2 exit 1;
			;;
	esac
done


echo "Do you already have a specific $INSTALL_TYPE in mind or do you want to \"search\" in our menu? \n"

select SEARCH search "I already know which one I want today"
do 
	case $SEARCH in
		search)
		echo "What are we looking for? \n"
		break;
		;;
	"I already know which one I want today")
		echo "Okay, and what might that be? \n"
		break;
		;;
	*)
		echo "Sir, sir... you have obviously had enough for tonight, I think its time to leave..." &>2 exit 1;
		;;
	esac
done

read INPUT

PACKAGE=$INPUT

if [ $INSTALL_TYPE=search ]; then
	echo "Searching... \n"
	
	select PACKAGE in `brew search INPUT`
fi 


if [ $INSTALL_TYPE=cask ]; then
	COMMAND="$COMMAND --cask "
fi

echo "One freshly tapped $PACKAGE, comming right up! \n"

if ! ($COMMAND); then
	echo "Something went wrong sir, we don't seem to have any $PACKAGE left today..."
	exit 1;
fi

echo "Here ya go!"
exit 0;
